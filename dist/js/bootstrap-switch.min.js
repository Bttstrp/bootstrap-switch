/**
  * bootstrap-switch - Turn checkboxes and radio buttons into toggle switches.
  *
  * @version v3.3.3
  * @homepage http://www.bootstrap-switch.org
  * @author Mattia Larentis <mattia@larentis.eu> (http://larentis.eu)
  * @license Apache-2.0
  */

(function(a,b){if('function'==typeof define&&define.amd)define(['jQuery'],b);else if('undefined'!=typeof exports)b(require('jQuery'));else{b(a.jQuery),a.bootstrapSwitch={exports:{}}.exports}})(this,function(a){'use strict';function c(g,h){if(!(g instanceof h))throw new TypeError('Cannot call a class as a function')}var d=function(g){return g&&g.__esModule?g:{default:g}}(a),e=function(){function g(h,j){for(var l,k=0;k<j.length;k++)l=j[k],l.enumerable=l.enumerable||!1,l.configurable=!0,'value'in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}return function(h,j,k){return j&&g(h.prototype,j),k&&g(h,k),h}}(),f=function(){function g(h){var j=this,k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c(this,g),this.$element=$(h),this.options=$.extend({},$.fn.bootstrapSwitch.defaults,this._getElementOptions(),k),this.prevOptions={},this.$wrapper=$('<div>',{class:function(){var m=[];return m.push(j.options.state?'on':'off'),j.options.size&&m.push(j.options.size),j.options.disabled&&m.push('disabled'),j.options.readonly&&m.push('readonly'),j.options.indeterminate&&m.push('indeterminate'),j.options.inverse&&m.push('inverse'),j.$element.attr('id')&&m.push('id-'+j.$element.attr('id')),m.map(j._getClass.bind(j)).concat([j.options.baseClass],j._getClasses(j.options.wrapperClass)).join(' ')}}),this.$container=$('<div>',{class:this._getClass('container')}),this.$on=$('<span>',{html:this.options.onText,class:this._getClass('handle-on')+' '+this._getClass(this.options.onColor)}),this.$off=$('<span>',{html:this.options.offText,class:this._getClass('handle-off')+' '+this._getClass(this.options.offColor)}),this.$label=$('<span>',{html:this.options.labelText,class:this._getClass('label')}),this.$element.on('init.bootstrapSwitch',this.options.onInit.bind(this,h)),this.$element.on('switchChange.bootstrapSwitch',function(){for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];!1===j.options.onSwitchChange.apply(h,m)&&(j.$element.is(':radio')?$('[name="'+j.$element.attr('name')+'"]').trigger('previousState.bootstrapSwitch',!0):j.$element.trigger('previousState.bootstrapSwitch',!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop('indeterminate',!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger('init.bootstrapSwitch',this.options.state)}return e(g,[{key:'setPrevOptions',value:function(){this.prevOptions=Object.assign({},this.options)}},{key:'state',value:function(j,k){return'undefined'==typeof j?this.options.state:this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(':radio')?this.$element:(this.$element.is(':radio')?$('[name="'+this.$element.attr('name')+'"]').trigger('setPreviousOptions.bootstrapSwitch'):this.$element.trigger('setPreviousOptions.bootstrapSwitch'),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop('checked',!!j).trigger('change.bootstrapSwitch',k),this.$element)}},{key:'toggleState',value:function(j){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop('checked',!this.options.state).trigger('change.bootstrapSwitch',j)}},{key:'size',value:function(j){return'undefined'==typeof j?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),j&&this.$wrapper.addClass(this._getClass(j)),this._width(),this._containerPosition(),this.options.size=j,this.$element)}},{key:'animate',value:function(j){return'undefined'==typeof j?this.options.animate:this.options.animate===!!j?this.$element:this.toggleAnimate()}},{key:'toggleAnimate',value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass('animate')),this.$element}},{key:'disabled',value:function(j){return'undefined'==typeof j?this.options.disabled:this.options.disabled===!!j?this.$element:this.toggleDisabled()}},{key:'toggleDisabled',value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop('disabled',this.options.disabled),this.$wrapper.toggleClass(this._getClass('disabled')),this.$element}},{key:'readonly',value:function(j){return'undefined'==typeof j?this.options.readonly:this.options.readonly===!!j?this.$element:this.toggleReadonly()}},{key:'toggleReadonly',value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop('readonly',this.options.readonly),this.$wrapper.toggleClass(this._getClass('readonly')),this.$element}},{key:'indeterminate',value:function(j){return'undefined'==typeof j?this.options.indeterminate:this.options.indeterminate===!!j?this.$element:this.toggleIndeterminate()}},{key:'toggleIndeterminate',value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop('indeterminate',this.options.indeterminate),this.$wrapper.toggleClass(this._getClass('indeterminate')),this._containerPosition(),this.$element}},{key:'inverse',value:function(j){return'undefined'==typeof j?this.options.inverse:this.options.inverse===!!j?this.$element:this.toggleInverse()}},{key:'toggleInverse',value:function(){this.$wrapper.toggleClass(this._getClass('inverse'));var j=this.$on.clone(!0),k=this.$off.clone(!0);return this.$on.replaceWith(k),this.$off.replaceWith(j),this.$on=k,this.$off=j,this.options.inverse=!this.options.inverse,this.$element}},{key:'onColor',value:function(j){return'undefined'==typeof j?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(j)),this.options.onColor=j,this.$element)}},{key:'offColor',value:function(j){return'undefined'==typeof j?this.options.offColor:(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(j)),this.options.offColor=j,this.$element)}},{key:'onText',value:function(j){return'undefined'==typeof j?this.options.onText:(this.$on.html(j),this._width(),this._containerPosition(),this.options.onText=j,this.$element)}},{key:'offText',value:function(j){return'undefined'==typeof j?this.options.offText:(this.$off.html(j),this._width(),this._containerPosition(),this.options.offText=j,this.$element)}},{key:'labelText',value:function(j){return'undefined'==typeof j?this.options.labelText:(this.$label.html(j),this._width(),this.options.labelText=j,this.$element)}},{key:'handleWidth',value:function(j){return'undefined'==typeof j?this.options.handleWidth:(this.options.handleWidth=j,this._width(),this._containerPosition(),this.$element)}},{key:'labelWidth',value:function(j){return'undefined'==typeof j?this.options.labelWidth:(this.options.labelWidth=j,this._width(),this._containerPosition(),this.$element)}},{key:'baseClass',value:function(){return this.options.baseClass}},{key:'wrapperClass',value:function(j){return'undefined'==typeof j?this.options.wrapperClass:(j||(j=$.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(' ')),this.$wrapper.addClass(this._getClasses(j).join(' ')),this.options.wrapperClass=j,this.$element)}},{key:'radioAllOff',value:function(j){if('undefined'==typeof j)return this.options.radioAllOff;var k=!!j;return this.options.radioAllOff===k?this.$element:(this.options.radioAllOff=k,this.$element)}},{key:'onInit',value:function(j){return'undefined'==typeof j?this.options.onInit:(j||(j=$.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=j,this.$element)}},{key:'onSwitchChange',value:function(j){return'undefined'==typeof j?this.options.onSwitchChange:(j||(j=$.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=j,this.$element)}},{key:'destroy',value:function(){var j=this.$element.closest('form');return j.length&&j.off('reset.bootstrapSwitch').removeData('bootstrap-switch'),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off('.bootstrapSwitch').removeData('bootstrap-switch'),this.$element}},{key:'_getElementOptions',value:function(){return{state:this.$element.is(':checked'),size:this.$element.data('size'),animate:this.$element.data('animate'),disabled:this.$element.is(':disabled'),readonly:this.$element.is('[readonly]'),indeterminate:this.$element.data('indeterminate'),inverse:this.$element.data('inverse'),radioAllOff:this.$element.data('radio-all-off'),onColor:this.$element.data('on-color'),offColor:this.$element.data('off-color'),onText:this.$element.data('on-text'),offText:this.$element.data('off-text'),labelText:this.$element.data('label-text'),handleWidth:this.$element.data('handle-width'),labelWidth:this.$element.data('label-width'),baseClass:this.$element.data('base-class'),wrapperClass:this.$element.data('wrapper-class')}}},{key:'_width',value:function(){var j=this,k=this.$on.add(this.$off).add(this.$label).css('width',''),l=void 0;return l='auto'===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth,k.width(l),this.$label.width(function(m,n){return'auto'===j.options.labelWidth?n<l?l:n:j.options.labelWidth}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:'_containerPosition',value:function(){var j=this,k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.state,l=arguments[1];this.$container.css('margin-left',function(){var m=[0,'-'+j._handleWidth+'px'];return j.options.indeterminate?'-'+j._handleWidth/2+'px':k?j.options.inverse?m[1]:m[0]:j.options.inverse?m[0]:m[1]})}},{key:'_init',value:function(){var j=this,k=function(){j.setPrevOptions(),j._width(),j._containerPosition(),setTimeout(function(){if(j.options.animate)return j.$wrapper.addClass(j._getClass('animate'))},50)};if(this.$wrapper.is(':visible'))return void k();var l=window.setInterval(function(){if(j.$wrapper.is(':visible'))return k(),window.clearInterval(l)},50)}},{key:'_elementHandlers',value:function(){var j=this;return this.$element.on({'setPreviousOptions.bootstrapSwitch':this.setPrevOptions.bind(this),'previousState.bootstrapSwitch':function(){j.options=j.prevOptions,j.options.indeterminate&&j.$wrapper.addClass(j._getClass('indeterminate')),j.$element.prop('checked',j.options.state).trigger('change.bootstrapSwitch',!0)},'change.bootstrapSwitch':function(l,m){l.preventDefault(),l.stopImmediatePropagation();var n=j.$element.is(':checked');j._containerPosition(n),n===j.options.state||(j.options.state=n,j.$wrapper.toggleClass(j._getClass('off')).toggleClass(j._getClass('on')),!m&&(j.$element.is(':radio')&&$('[name="'+j.$element.attr('name')+'"]').not(j.$element).prop('checked',!1).trigger('change.bootstrapSwitch',!0),j.$element.trigger('switchChange.bootstrapSwitch',[n])))},'focus.bootstrapSwitch':function(l){l.preventDefault(),j.$wrapper.addClass(j._getClass('focused'))},'blur.bootstrapSwitch':function(l){l.preventDefault(),j.$wrapper.removeClass(j._getClass('focused'))},'keydown.bootstrapSwitch':function(l){!l.which||j.options.disabled||j.options.readonly||(37===l.which||39===l.which)&&(l.preventDefault(),l.stopImmediatePropagation(),j.state(39===l.which))}})}},{key:'_handleHandlers',value:function(){var j=this;return this.$on.on('click.bootstrapSwitch',function(k){return k.preventDefault(),k.stopPropagation(),j.state(!1),j.$element.trigger('focus.bootstrapSwitch')}),this.$off.on('click.bootstrapSwitch',function(k){return k.preventDefault(),k.stopPropagation(),j.state(!0),j.$element.trigger('focus.bootstrapSwitch')})}},{key:'_labelHandlers',value:function(){var j=this;this.$label.on({click:function(m){m.stopPropagation()},'mousedown.bootstrapSwitch touchstart.bootstrapSwitch':function(m){j._dragStart||j.options.disabled||j.options.readonly||(m.preventDefault(),m.stopPropagation(),j._dragStart=(m.pageX||m.originalEvent.touches[0].pageX)-parseInt(j.$container.css('margin-left'),10),j.options.animate&&j.$wrapper.removeClass(j._getClass('animate')),j.$element.trigger('focus.bootstrapSwitch'))},'mousemove.bootstrapSwitch touchmove.bootstrapSwitch':function(m){if(null!=j._dragStart){var n=(m.pageX||m.originalEvent.touches[0].pageX)-j._dragStart;m.preventDefault(),n<-j._handleWidth||0<n||(j._dragEnd=n,j.$container.css('margin-left',j._dragEnd+'px'))}},'mouseup.bootstrapSwitch touchend.bootstrapSwitch':function(m){if(j._dragStart){if(m.preventDefault(),j.options.animate&&j.$wrapper.addClass(j._getClass('animate')),j._dragEnd){var n=j._dragEnd>-(j._handleWidth/2);j._dragEnd=!1,j.state(j.options.inverse?!n:n)}else j.state(!j.options.state);j._dragStart=!1}},'mouseleave.bootstrapSwitch':function(){j.$label.trigger('mouseup.bootstrapSwitch')}})}},{key:'_externalLabelHandler',value:function(){var j=this,k=this.$element.closest('label');k.on('click',function(l){l.preventDefault(),l.stopImmediatePropagation(),l.target===k[0]&&j.toggleState()})}},{key:'_formHandler',value:function(){var j=this.$element.closest('form');j.data('bootstrap-switch')||j.on('reset.bootstrapSwitch',function(){window.setTimeout(function(){j.find('input').filter(function(){return $(this).data('bootstrap-switch')}).each(function(){return $(this).bootstrapSwitch('state',this.checked)})},1)}).data('bootstrap-switch',!0)}},{key:'_getClass',value:function(j){return this.options.baseClass+'-'+j}},{key:'_getClasses',value:function(j){return $.isArray(j)?j.map(this._getClass.bind(this)):[this._getClass(j)]}}]),g}();$.fn.bootstrapSwitch=function(g){for(var h=arguments.length,j=Array(1<h?h-1:0),k=1;k<h;k++)j[k-1]=arguments[k];var l=this;return this.each(function(){var m=$(this),n=m.data('bootstrap-switch');n||(n=new f(this,g),m.data('bootstrap-switch',n)),'string'==typeof g&&(l=n[g].apply(n,j))}),l},$.fn.bootstrapSwitch.Constructor=f,$.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:'primary',offColor:'default',onText:'ON',offText:'OFF',labelText:'&nbsp',handleWidth:'auto',labelWidth:'auto',baseClass:'bootstrap-switch',wrapperClass:'wrapper',onInit:function(){},onSwitchChange:function(){}}});
